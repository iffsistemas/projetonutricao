<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html" 
	  xmlns:p="http://primefaces.org/ui">


<ui:composition template="/templates/templates.xhtml"> 


<ui:define name="titulo">Pacientes</ui:define>


<ui:define name="conteudo">
	
		
<h:form id="buscarAtendimento">			
				
		<p:panelGrid align="center" id="tableBuscarAtendimento" columns="3" > 
		
		
		
		
			<p:column><p:outputLabel value="Paciente: " for="nome"/></p:column>
			<p:column><h:inputText id="nome" value="#{cadastroPacienteBean.nome}" /></p:column>   
		   		 
	
		<p:column> <p:commandButton action="#{cadastroPacienteBean.buscarNome()}" value="Buscar" 
                update=":mensagem :formConsultas:tableConsultas" icon="ui-icon-search" /> </p:column>
		
		
		</p:panelGrid>
</h:form>



<h:form id="formConsultas">
	<p:dataTable value="#{cadastroPacienteBean.cadastroPacientes}" var="paciente"
	paginator="true" id="tableConsultas"  emptyMessage="Nenhum registro encontrado!" rows="5">
		<p:column sortBy="#{paciente.nome}" filterBy="#{paciente.nome}">
			<f:facet  name="header">Nome do Paciente</f:facet>
			<p:outputLabel value="#{paciente.nome}" />
		</p:column>
		<p:column>
			<f:facet name="header">Nascimento</f:facet>
			<p:outputLabel value="#{paciente.dataNascimento}">
			<f:convertDateTime pattern="dd/MM/yyyy" />
			</p:outputLabel>
		</p:column>		
		<p:column>
			<f:facet name="header">Ver Atendimentos</f:facet>
			<p:commandButton icon="ui-icon-list-alt" action="#{#}"
			value="Atendimentos" update=":mensagem, formConsultas:tableConsultas"  process="@form"/>
		</p:column>
		
				
		
	</p:dataTable> 
	
	
	
 </h:form>

	

<br></br><br></br>

<h:form id="formNovoPaciente">

	 <p:fieldset legend="Novo Paciente" id="fieldNovoPaciente">
	 
	 
	 	 <h:panelGrid cellpadding="10" columns="3">
	 	 
	 	 
	 	 <p:column> <p:commandButton value="Adulto"  oncomplete="PF('dialogCadAdulto').show();"/> </p:column>
	 	 
	 	 <p:column> <p:commandButton value="Criança"  /> </p:column>
	 	  
	 	 <p:column> <p:commandButton value="Gestante" /> </p:column>
	 	 
	 	 </h:panelGrid>
	 
	 
	 </p:fieldset>
</h:form>

                  

<p:dialog  header="Cadastro - Paciente Adulto" widgetVar="dialogCadAdulto" 
draggable="false" resizable="false" showEffect="slide" hideEffect="slide"> 

<h:form id="dialogAdulto">
	
	
	
     
        <h:panelGrid id="tableIdentificacao" columns="2">
             	<p:outputLabel value="Nome" for="nome"/>
                <p:inputText id="nome" value="#{cadastroPacienteAdultoBean.cadastroPacienteAdulto.nome}" required="true" requiredMessage="Nome Obrigatório!"/>
 
                <p:outputLabel value="Data de Nascimento: " for="dataNascimento" />
				<p:calendar locale="pt" id="dataNascimento"
                            value="#{cadastroPacienteAdultoBean.cadastroPacienteAdulto.dataNascimento}" effect="slide"
                            pattern="dd/MM/yyyy" mask="true"/>
                
                <p:outputLabel value="Idade:" for="idade"/>
                <p:inputText id="idade" value="#{cadastroPacienteAdultoBean.cadastroPacienteAdulto.idade}" />
                
       </h:panelGrid>
                
               <!-- =================Identificação Contatos===================================== --> 
              
                               
                <p:fieldset legend="Contatos" id="fieldContados"> 
               
                <h:panelGrid columns="2">
                 
                 	<p:outputLabel value="Email:" for="email"/>
                	<p:inputText id="email" value="#{cadastroPacienteAdultoBean.cadastroPacienteAdulto.email}" />
                
                	<p:outputLabel value="Tel. Residencial:" for="telefoneRes"/>
                    <p:inputText id="telefoneRes"  value="#{cadastroPacienteAdultoBean.cadastroPacienteAdulto.telefoneRes}" />
                
                    <p:outputLabel value="Celular:" for="telefoneCel"/>
                    <p:inputText id="telefoneCel" value="#{cadastroPacienteAdultoBean.cadastroPacienteAdulto.telefoneCel}" />
                
                 </h:panelGrid>    
                
                </p:fieldset>
                
                 <!-- =======================OCUPAÇÂO============================================= --> 
                 
                 <p:fieldset legend="Ocupação" id="fieldOcupação"> 
               
                <h:panelGrid columns="2">
                 
                 	<p:outputLabel value="Profissão:" for="profissao"/>
                	<p:inputText id="profissao" value="#{cadastroPacienteAdultoBean.cadastroPacienteAdulto.profissão}" />
                	
                	
                
              <p:commandButton actionListener="#{cadastroPacienteAdultoBean.salvar()}" value="Salvar" 
                update=":mensagem :formConsultas:tableConsultas :dialogAdulto:tableIdentificacao" 
                process="@form" oncomplete="PF('dialogCadAdulto').hide();" /> 
                
                <p:commandButton value="Fechar" oncomplete="PF('dialogCadAdulto').hide();" />               	
                	                
                 </h:panelGrid>    
                
                </p:fieldset>
</h:form>
</p:dialog>










  
</ui:define>	 
</ui:composition>







	






 
</html>
